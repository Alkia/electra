"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsonrpc_1 = require("./jsonrpc");
describe("jsonrpc", () => {
    describe("createJsonRpcRequest", () => {
        it("generates proper object with correct method", () => {
            const request = (0, jsonrpc_1.createJsonRpcRequest)("do_something");
            expect(request.jsonrpc).toEqual("2.0");
            expect(request.id.toString()).toMatch(/^[1-9]{12}$/);
            expect(request.method).toEqual("do_something");
        });
        it("generates distinct IDs", () => {
            const request1 = (0, jsonrpc_1.createJsonRpcRequest)("foo");
            const request2 = (0, jsonrpc_1.createJsonRpcRequest)("foo");
            expect(request2.id).not.toEqual(request1.id);
        });
        it("copies params", () => {
            const params = { foo: "bar" };
            const request = (0, jsonrpc_1.createJsonRpcRequest)("some_method", params);
            expect(request.params).toEqual(params);
            expect(request.params).not.toBe(params);
        });
    });
});
//# sourceMappingURL=jsonrpc.spec.js.map